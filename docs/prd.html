<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLE-STAR - Product Requirements Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        section {
            margin-bottom: 40px;
        }
        
        h2 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #764ba2;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .metadata {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .metadata-item {
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }
        
        .metadata-item strong {
            color: #667eea;
        }
        
        .objective-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .success-criteria {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 3px;
        }
        
        .risk-item {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 10px 0;
            border-radius: 3px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item {
            margin-left: 40px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .timeline-item:before {
            content: '';
            position: absolute;
            left: -30px;
            top: 0;
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 0 3px #667eea;
        }
        
        .timeline-item:after {
            content: '';
            position: absolute;
            left: -20px;
            top: 20px;
            width: 2px;
            height: 30px;
            background: #667eea;
        }
        
        .timeline-item:last-child:after {
            display: none;
        }
        
        .timeline-item h4 {
            color: #667eea;
            margin-bottom: 5px;
        }
        
        footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #ddd;
        }
        
        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-right: 5px;
        }
        
        .badge.high {
            background: #ff6b6b;
        }
        
        .badge.medium {
            background: #ffa500;
        }
        
        .badge.low {
            background: #4caf50;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ MLE-STAR</h1>
            <p>Machine Learning Engineering Agent via Search and Targeted Refinement</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Product Requirements Document (PRD)</p>
        </header>
        
        <div class="content">
            <!-- Metadata Section -->
            <div class="metadata">
                <div class="metadata-item">
                    <strong>Document Version:</strong> 1.0
                </div>
                <div class="metadata-item">
                    <strong>Last Updated:</strong> January 19, 2026
                </div>
                <div class="metadata-item">
                    <strong>Status:</strong> <span class="badge">Active</span>
                </div>
                <div class="metadata-item">
                    <strong>Author:</strong> Development Team
                </div>
            </div>
            
            <!-- Executive Summary -->
            <section>
                <h2>Executive Summary</h2>
                <div class="objective-box">
                    <p><strong>MLE-STAR</strong> is an autonomous multi-agent system that automatically builds machine learning solutions for Kaggle-style competitions. By combining web search integration, targeted refinement through ablation studies, and intelligent ensembling, MLE-STAR achieves a <strong>64% medal rate</strong> on MLE-bench Lite competitions‚Äîsignificantly outperforming baseline approaches.</p>
                </div>
                
                <h3>Key Achievements</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>64% Medal Rate:</strong> Achieves medals on 64% of MLE-bench Lite competitions</li>
                    <li><strong>30% Gold Rate:</strong> Wins gold medals on 30% of competitions</li>
                    <li><strong>14 Specialized Agents:</strong> Each agent optimized for specific ML engineering tasks</li>
                    <li><strong>3-Phase Pipeline:</strong> Initial solution ‚Üí Iterative refinement ‚Üí Ensemble optimization</li>
                    <li><strong>Multi-Provider Support:</strong> Works with Ollama, Bedrock, OpenAI, and Lemonade</li>
                </ul>
            </section>
            
            <!-- Problem Statement -->
            <section>
                <h2>Problem Statement</h2>
                <p>Building competitive machine learning solutions requires:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Extensive knowledge of state-of-the-art models and techniques</li>
                    <li>Iterative experimentation and refinement</li>
                    <li>Careful feature engineering and data preprocessing</li>
                    <li>Ensemble strategy optimization</li>
                    <li>Significant time investment from experienced ML engineers</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Current Limitations:</strong> Existing approaches rely solely on LLM knowledge, lack targeted refinement capabilities, and cannot effectively identify and improve the most impactful code components.</p>
            </section>
            
            <!-- Solution Overview -->
            <section>
                <h2>Solution Overview</h2>
                <p>MLE-STAR addresses these challenges through three core innovations:</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üîç Web Search Integration</h4>
                        <p>Retrieves state-of-the-art models and techniques from the web instead of relying solely on LLM knowledge. Includes fallback to curated models when search is unavailable.</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üéØ Targeted Refinement</h4>
                        <p>Uses ablation studies to identify the most impactful code components, then focuses refinement efforts on those components for maximum improvement.</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üß© Intelligent Ensembling</h4>
                        <p>Combines multiple solutions using LLM-proposed ensemble strategies, considering model diversity and performance metrics.</p>
                    </div>
                </div>
            </section>
            
            <!-- Product Goals -->
            <section>
                <h2>Product Goals</h2>
                
                <h3>Primary Goals</h3>
                <table>
                    <tr>
                        <th>Goal</th>
                        <th>Target</th>
                        <th>Success Metric</th>
                    </tr>
                    <tr>
                        <td>Medal Achievement Rate</td>
                        <td>‚â• 60%</td>
                        <td>Medals on 60%+ of MLE-bench Lite competitions</td>
                    </tr>
                    <tr>
                        <td>Gold Medal Rate</td>
                        <td>‚â• 25%</td>
                        <td>Gold medals on 25%+ of competitions</td>
                    </tr>
                    <tr>
                        <td>Above Median Rate</td>
                        <td>‚â• 60%</td>
                        <td>Scores above median on 60%+ of competitions</td>
                    </tr>
                    <tr>
                        <td>System Reliability</td>
                        <td>‚â• 95%</td>
                        <td>Successful pipeline completion rate</td>
                    </tr>
                </table>
                
                <h3>Secondary Goals</h3>
                <ul style="margin-left: 20px; margin-top: 15px;">
                    <li>Support multiple data modalities (tabular, image, text)</li>
                    <li>Provide real-time progress visualization</li>
                    <li>Enable easy customization and extension</li>
                    <li>Maintain comprehensive audit trails</li>
                    <li>Support multiple LLM providers</li>
                </ul>
            </section>
            
            <!-- User Stories -->
            <section>
                <h2>User Stories & Use Cases</h2>
                
                <h3>Primary Users</h3>
                <table>
                    <tr>
                        <th>User Type</th>
                        <th>Goal</th>
                        <th>Benefit</th>
                    </tr>
                    <tr>
                        <td>ML Practitioners</td>
                        <td>Build competitive solutions quickly</td>
                        <td>Reduce development time from weeks to hours</td>
                    </tr>
                    <tr>
                        <td>Kaggle Competitors</td>
                        <td>Achieve medals consistently</td>
                        <td>Increase medal rate from ~10% to 60%+</td>
                    </tr>
                    <tr>
                        <td>ML Researchers</td>
                        <td>Study automated ML engineering</td>
                        <td>Benchmark against state-of-the-art approaches</td>
                    </tr>
                    <tr>
                        <td>Enterprise Teams</td>
                        <td>Automate ML solution development</td>
                        <td>Reduce manual engineering effort and costs</td>
                    </tr>
                </table>
            </section>
            
            <!-- Core Features -->
            <section>
                <h2>Core Features</h2>
                
                <h3>Phase 1: Initial Solution Generation</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Retriever Agent:</strong> Searches web for state-of-the-art models</li>
                    <li><strong>Candidate Evaluator:</strong> Evaluates each model candidate</li>
                    <li><strong>Merger:</strong> Combines best candidates into ensemble</li>
                    <li><strong>Leakage Checker:</strong> Detects and fixes data leakage</li>
                    <li><strong>Data Usage Checker:</strong> Ensures all data files are used</li>
                </ul>
                
                <h3>Phase 2: Iterative Refinement</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Ablation Study:</strong> Identifies component impacts</li>
                    <li><strong>Summarizer:</strong> Parses ablation results</li>
                    <li><strong>Extractor:</strong> Finds most impactful code block</li>
                    <li><strong>Planner:</strong> Proposes refinement strategies</li>
                    <li><strong>Coder:</strong> Implements refinement plans</li>
                    <li><strong>Debugger:</strong> Fixes code errors</li>
                </ul>
                
                <h3>Phase 3: Ensemble Optimization</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Ensemble Planner:</strong> Proposes ensemble strategies</li>
                    <li><strong>Ensembler:</strong> Implements ensemble strategies</li>
                    <li><strong>Submission:</strong> Generates final submission</li>
                </ul>
            </section>
            
            <!-- Technical Requirements -->
            <section>
                <h2>Technical Requirements</h2>
                
                <h3>Backend Infrastructure</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>FastAPI REST server with WebSocket support</li>
                    <li>Python 3.10+ execution environment</li>
                    <li>Multi-provider LLM support (Ollama, Bedrock, OpenAI, Lemonade)</li>
                    <li>Secure code execution sandbox</li>
                    <li>State persistence and checkpoint recovery</li>
                </ul>
                
                <h3>Frontend Interface</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Next.js web application</li>
                    <li>Real-time pipeline visualization</li>
                    <li>File upload with progress tracking</li>
                    <li>Results visualization and analysis</li>
                    <li>Model provider selection</li>
                </ul>
                
                <h3>Data & Security</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Support for CSV, Parquet, JSON, images, audio</li>
                    <li>Secure secret management</li>
                    <li>API authentication and authorization</li>
                    <li>Audit logging and monitoring</li>
                </ul>
            </section>
            
            <!-- Success Criteria -->
            <section>
                <h2>Success Criteria</h2>
                
                <div class="success-criteria">
                    <strong>‚úì Functional Success:</strong> System successfully completes pipeline execution on 95%+ of runs
                </div>
                
                <div class="success-criteria">
                    <strong>‚úì Performance Success:</strong> Achieves 60%+ medal rate on MLE-bench Lite competitions
                </div>
                
                <div class="success-criteria">
                    <strong>‚úì User Experience Success:</strong> Users can start pipeline in <5 minutes with intuitive UI
                </div>
                
                <div class="success-criteria">
                    <strong>‚úì Reliability Success:</strong> System maintains 99.5% uptime with comprehensive error handling
                </div>
                
                <div class="success-criteria">
                    <strong>‚úì Security Success:</strong> All critical security findings addressed before production deployment
                </div>
            </section>
            
            <!-- Risks & Mitigation -->
            <section>
                <h2>Risks & Mitigation Strategies</h2>
                
                <h3>Technical Risks</h3>
                <div class="risk-item">
                    <strong>Risk:</strong> LLM API failures or rate limiting<br>
                    <strong>Mitigation:</strong> Implement retry logic, fallback models, and request queuing
                </div>
                
                <div class="risk-item">
                    <strong>Risk:</strong> Code execution errors or timeouts<br>
                    <strong>Mitigation:</strong> Sandbox environment, timeout handling, comprehensive error logging
                </div>
                
                <div class="risk-item">
                    <strong>Risk:</strong> Data leakage in generated code<br>
                    <strong>Mitigation:</strong> Dedicated leakage checker agent, validation rules
                </div>
                
                <h3>Operational Risks</h3>
                <div class="risk-item">
                    <strong>Risk:</strong> Security vulnerabilities in generated code<br>
                    <strong>Mitigation:</strong> Security audit framework, dependency scanning, secret detection
                </div>
                
                <div class="risk-item">
                    <strong>Risk:</strong> Inconsistent performance across competitions<br>
                    <strong>Mitigation:</strong> Comprehensive testing, ablation studies, ensemble strategies
                </div>
            </section>
            
            <!-- Timeline -->
            <section>
                <h2>Development Timeline</h2>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>Phase 1: Backend Infrastructure (Weeks 1-2)</h4>
                        <p>Web search integration, FastAPI server, WebSocket support, state management</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Phase 2: Frontend Integration (Weeks 3-4)</h4>
                        <p>API client, real-time updates, file upload, results visualization</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Phase 3: Agent Enhancements (Weeks 5-6)</h4>
                        <p>Multi-provider support, prompt optimization, error handling</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Phase 4: Testing & QA (Weeks 7-8)</h4>
                        <p>Unit tests, integration tests, property tests, end-to-end tests</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Phase 5: Security & Deployment (Weeks 9-10)</h4>
                        <p>Security audit, containerization, CI/CD, production deployment</p>
                    </div>
                </div>
            </section>
            
            <!-- Metrics & KPIs -->
            <section>
                <h2>Metrics & Key Performance Indicators</h2>
                
                <table>
                    <tr>
                        <th>Metric</th>
                        <th>Target</th>
                        <th>Measurement Method</th>
                    </tr>
                    <tr>
                        <td>Medal Achievement Rate</td>
                        <td>‚â• 60%</td>
                        <td>Competitions with medals / Total competitions</td>
                    </tr>
                    <tr>
                        <td>Gold Medal Rate</td>
                        <td>‚â• 25%</td>
                        <td>Competitions with gold / Total competitions</td>
                    </tr>
                    <tr>
                        <td>Pipeline Success Rate</td>
                        <td>‚â• 95%</td>
                        <td>Successful runs / Total runs</td>
                    </tr>
                    <tr>
                        <td>Average Execution Time</td>
                        <td>< 2 hours</td>
                        <td>Mean pipeline duration</td>
                    </tr>
                    <tr>
                        <td>System Uptime</td>
                        <td>‚â• 99.5%</td>
                        <td>Available time / Total time</td>
                    </tr>
                    <tr>
                        <td>User Satisfaction</td>
                        <td>‚â• 4.5/5</td>
                        <td>User feedback surveys</td>
                    </tr>
                </table>
            </section>
            
            <!-- Constraints & Assumptions -->
            <section>
                <h2>Constraints & Assumptions</h2>
                
                <h3>Constraints</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>LLM API rate limits and costs</li>
                    <li>Computational resources for code execution</li>
                    <li>Network connectivity for web search</li>
                    <li>Data privacy and security requirements</li>
                    <li>Compliance with competition rules</li>
                </ul>
                
                <h3>Assumptions</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Users have access to LLM APIs or local models</li>
                    <li>Competition datasets are properly formatted</li>
                    <li>Generated code follows Python best practices</li>
                    <li>Web search results are reliable and relevant</li>
                    <li>Users understand ML concepts and workflows</li>
                </ul>
            </section>
        </div>
        
        <footer>
            <p>&copy; 2026 MLE-STAR Project. All rights reserved.</p>
            <p>For more information, visit: <a href="https://github.com/Anteros79/KiroMLE-STAR" style="color: #667eea;">GitHub Repository</a></p>
        </footer>
    </div>
</body>
</html>
